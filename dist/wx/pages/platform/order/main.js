require("../../../common/manifest.js")
require("../../../common/vendor.js")
global.webpackJsonpMpvue([30],{298:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(3),r=a.n(n),s=a(299);r.a.config.errorHandler=function(t){console&&console.error&&console.error(t)},new r.a(s.a).$mount()},299:function(t,e,a){"use strict";var n=a(302),r=a(303),s=!1;var i=function(t){s||(a(300),a(301))},o=a(0)(n.a,r.a,i,"data-v-97172bf0",null);o.options.__file="src\\pages\\platform\\order\\index.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),e.a=o.exports},300:function(t,e){},301:function(t,e){},302:function(t,e,a){"use strict";var n=a(12),r=a.n(n),s=a(1),i=a.n(s),o=a(2),c=a.n(o),d=a(4),u=a(6),l=a(10),v=a.n(l),p=a(9),m=a.n(p),_=a(22),f=a.n(_),g=a(18),h=a.n(g),b=a(23),T=a.n(b),x=a(24),k=a.n(x),w=a(25),y=a.n(w),S=a(19),C=a.n(S),B=a(13),E=a.n(B),D=a(45),j=a.n(D),N=a(103),L=a.n(N),O=a(47);e.a={data:function(){return{logo:m.a,logo2:v.a,jx:f.a,gd:h.a,type:T.a,fb:k.a,jz:y.a,right:C.a,dateIcon:E.a,down:j.a,gdbh:h.a,hbrq:L.a,startTime:"开始时间",endTime:"结束时间",index:0,orderType:1,list:[],current:1,size:10,total:0,array:[{dictValue:"安装"}],nm:"",endDate:"",startTm:"",endTm:""}},onLoad:function(t){var e=this;return c()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:console.log(t),e.orderType=t.type,a.t0=e.orderType,a.next="1"===a.t0?5:"2"===a.t0?7:9;break;case 5:return wx.setNavigationBarTitle({title:"进行工单"}),a.abrupt("break",9);case 7:return wx.setNavigationBarTitle({title:"完成工单"}),a.abrupt("break",9);case 9:case"end":return a.stop()}},a,e)}))()},onShow:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.current=1,t.list=[],t.startTime="开始时间",t.endTime="结束时间",t.startTm="",t.endTm="",t.nm="",t.endDate="",t.array=[{dictValue:"安装"}],t.getList();case 7:case"end":return e.stop()}},e,t)}))()},onReachBottom:function(){this.list.length>=this.total||this.list.length<this.total&&(this.current++,this.getList())},methods:{toPage:function(t){t&&this.util.aHref(t)},gowork:function(t,e){1==t||3==t?this.toPage("/pages/report/confirm/main?id="+e.id):2==t&&this.toPage("/pages/report/AfterSaleOrder/main?id="+e.id)},getList:function(){var t=this;return c()(i.a.mark(function e(){var a,n,s,o,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s={current:t.current,size:t.size,endDate:t.startTm&&t.endTm?t.startTm+","+t.endTm:"",nm:t.nm},e.t0=t.orderType,e.next="1"===e.t0?4:"2"===e.t0?11:18;break;case 4:return e.next=6,t.api.getWorkOrder(s);case 6:return(o=e.sent).data.records.forEach(function(t){t.bidStart=t.bidStart.slice(0,10),t.bidEnd=t.bidEnd.slice(0,10)}),(a=t.list).push.apply(a,r()(o.data.records)),t.total=o.data.total,e.abrupt("break",18);case 11:return e.next=13,t.api.getCompleteOrder(s);case 13:return(c=e.sent).data.records.forEach(function(t){t.bidStart=t.bidStart.slice(0,10),t.bidEnd=t.bidEnd.slice(0,10)}),(n=t.list).push.apply(n,r()(c.data.records)),t.total=c.data.total,e.abrupt("break",18);case 18:case"end":return e.stop()}},e,t)}))()},toSearch:function(){this.getList()},getDate:function(t){this.startTm=t,this.startTime=t},getDate2:function(t){this.endTm=t,this.endTime=t}},components:{Steps:O.a,bottomBase:d.a,dateRange:u.a}}},303:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"searchBox"},[a("div",{staticClass:"dateBox"},[a("div",{staticClass:"timechange"},[a("div",{staticClass:"time"},[a("dateRange",{attrs:{value:t.startTime,eventid:"0",mpcomid:"0"},on:{getStart:t.getDate}})],1),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("div",{staticClass:"time"},[a("date-range",{attrs:{value:t.endTime,eventid:"1",mpcomid:"1"},on:{getStart:t.getDate2}})],1)]),t._v(" "),a("img",{staticClass:"icon",attrs:{src:t.dateIcon}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nm,expression:"nm"}],attrs:{placeholder:"请输入经销商名称或工单编号",eventid:"2"},domProps:{value:t.nm},on:{input:function(e){e.target.composing||(t.nm=e.target.value)}}})]),t._v(" "),a("p",{attrs:{eventid:"3"},on:{click:t.toSearch}},[t._v("\n      搜索\n    ")])],1),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"listBox"},t._l(t.list,function(e,n){return a("div",{key:n,staticClass:"box",attrs:{eventid:"4_"+n},on:{click:function(a){t.gowork(e.workType,e)}}},[a("ul",[a("li",[a("img",{attrs:{src:t.gdbh}}),t._v(" "),a("span",[t._v("工单编号")]),t._v(" "),a("p",[t._v(t._s(e.cd))])],1),t._v(" "),a("li",[a("img",{attrs:{src:t.jx}}),t._v(" "),a("span",[t._v("供应商名称")]),t._v(" "),a("p",[t._v(t._s(e.orgNm))])],1),t._v(" "),a("li",[a("img",{attrs:{src:t.jx}}),t._v(" "),a("span",[t._v("经销商名称")]),t._v(" "),a("p",[t._v(t._s(e.custNm))])],1),t._v(" "),a("li",[a("img",{attrs:{src:t.type}}),t._v(" "),a("span",[t._v("工作类型")]),t._v(" "),a("p",[t._v(t._s(e.workTypeNm))])],1),t._v(" "),a("li",[a("img",{attrs:{src:t.fb}}),t._v(" "),a("span",[t._v("发布日期")]),t._v(" "),a("p",[t._v(t._s(e.bidStart))])],1),t._v(" "),a("li",[a("img",{attrs:{src:t.hbrq}}),t._v(" "),a("span",[t._v("汇报日期")]),t._v(" "),a("p",[t._v(t._s(e.bidEnd))])],1)],1),t._v(" "),a("div",[1==t.orderType?a("steps",{attrs:{status:e.processStatus,mpcomid:"2_"+n}}):t._e(),t._v(" "),a("p",[t._v("\n            查看\n          ")])],1)],1)}))]),t._v(" "),a("bottomBase",{attrs:{mpcomid:"3"}})],1)};n._withStripped=!0;var r={render:n,staticRenderFns:[]};e.a=r}},[298]);